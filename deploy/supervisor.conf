# Supervisor 설정 파일
# /etc/supervisor/conf.d/aitrader.conf

[program:aitrader]
command=/opt/aitrader/venv/bin/python /opt/aitrader/main.py --mode paper --daemon
directory=/opt/aitrader
user=ubuntu
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/opt/aitrader/logs/supervisor.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=PATH="/opt/aitrader/venv/bin",PYTHONPATH="/opt/aitrader"
stopsignal=TERM
stopwaitsecs=10
killasgroup=true
priority=999

[program:aitrader-dashboard]
command=/opt/aitrader/venv/bin/python /opt/aitrader/dashboard/web_dashboard.py
directory=/opt/aitrader
user=ubuntu
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/opt/aitrader/logs/dashboard.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
environment=PATH="/opt/aitrader/venv/bin",PYTHONPATH="/opt/aitrader"
stopsignal=TERM
stopwaitsecs=10
killasgroup=true
priority=998

[group:aitrader-group]
programs=aitrader,aitrader-dashboard
priority=999

